\noindent
\ttfamily
\hlstd{\hllin{01\ }DATAS}\hlstd{\ \ }\hlstd{}\hlkwa{SEGMENT}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlkwa{}\\
\hllin{02\ }\hlstd{DIVID}\hlstd{\ \ }\hlstd{}\hlkwa{DW}\hlstd{\ \ \ \ }\hlkwa{}\hlstd{}\hlnum{60H}\\
\hllin{03\ }\hlstd{DATAS}\hlstd{\ \ }\hlstd{}\hlkwa{ENDS}\\
\hllin{04\ }\hlstd{\\
\hllin{05\ }STACKS}\hlstd{\ \ }\hlstd{}\hlkwa{SEGMENT}\hlstd{\ \ \ }\hlkwa{}\hlstd{STACK}\hlstd{\ \ \ \ \ \ }\hlstd{\\
\hllin{06\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{DW}\hlstd{\ \ \ \ }\hlkwa{}\hlstd{}\hlnum{128\ }\hlstd{DUP}\hlopt{(}\hlstd{?}\hlopt{)}\hlstd{\ \ }\hlopt{}\\
\hllin{07\ }\hlstd{STACKS}\hlstd{\ \ }\hlstd{}\hlkwa{ENDS}\\
\hllin{08\ }\hlstd{\\
\hllin{09\ }CODES}\hlstd{\ \ }\hlstd{}\hlkwa{SEGMENT}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlkwa{}\\
\hllin{10\ }\hlstd{}\hlkwa{ASSUME}\hlstd{\ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{CS}\hlstd{}\hlopt{:}\hlstd{CODES}\hlopt{,}\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{:}\hlstd{DATAS\\
\hllin{11\ }SUB1}\hlstd{\ \ }\hlstd{}\hlkwa{PROC}\hlstd{\ \ \ \ \ \ }\hlkwa{FAR}\\
\hllin{12\ }\hlstd{}\hlstd{\ \ }\hlstd{}\\
\hllin{13\ }\hlkwc{START:}\hlstd{\ \ }\hlkwc{}\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AX}\hlstd{}\hlopt{,}\hlstd{DATAS\\
\hllin{14\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AX}\\
\hllin{15\ }\hlstd{}\hlslc{;设置波特率为1200}\\
\hllin{16\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{80H}\\
\hllin{17\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{FBH\\
\hllin{18\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\\
\hllin{19\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AX}\hlstd{}\hlopt{,}\hlstd{DIVID\\
\hllin{20\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F8H\\
\hllin{21\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\hlstd{\ \ \ \ \ \ \ }\hlkwb{}\\
\hllin{22\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AH}\\
\hllin{23\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F9H\\
\hllin{24\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\hlstd{\ \ \ \ \ \ \ \ }\hlkwb{}\\
\hllin{25\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{00001011}\hlstd{B\\
\hllin{26\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{FBH}\hlstd{\ \ \ \ \ }\hlstd{\\
\hllin{27\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\\
\hllin{28\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{00000011}\hlstd{B\\
\hllin{29\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{FCH\\
\hllin{30\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\\
\hllin{31\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\\
\hllin{32\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F9H\\
\hllin{33\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\hlstd{\ \ \ }\hlkwb{}\\
\hllin{34\ }\hlstd{}\hlkwc{WAIT\textunderscore FOR:}\\
\hllin{35\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{FDH\\
\hllin{36\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{IN}\hlstd{\ \ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{DX}\\
\hllin{37\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{TEST}\hlstd{\ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{1}\hlstd{EH\ \\
\hllin{38\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{ERROR\\
\hllin{39\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{TEST}\hlstd{\ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{1\ }\\
\hllin{40\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{RECEIVE\\
\hllin{41\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{TEST}\hlstd{\ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{20H\ }\\
\hllin{42\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JZ}\hlstd{\ \ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR\ \\
\hllin{43\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{1\ }\\
\hllin{44\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{16H}\hlstd{\ \ \ \ \ \ \ \ \ }\hlnum{}\\
\hllin{45\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JZ}\hlstd{\ \ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR\\
\hllin{46\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{1\ }\\
\hllin{47\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{21H}\\
\hllin{48\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{CMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{DH}\\
\hllin{49\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{SENDCHAR}\hlstd{\ \ \ \ }\hlstd{\\
\hllin{50\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{AH\ }\\
\hllin{51\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{EH\\
\hllin{52\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{10H}\\
\hllin{53\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\\
\hllin{54\ }\hlkwc{SENDCHAR:}\hlstd{\ \ }\hlkwc{}\\
\hllin{55\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F8H\\
\hllin{56\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{OUT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{AL}\\
\hllin{57\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{CMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{20H}\\
\hllin{58\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{NO\textunderscore STOP\\
\hllin{59\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{4}\hlstd{}\hlkwb{CH}\\
\hllin{60\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{21H}\\
\hllin{61\ }\hlstd{}\hlkwc{NO\textunderscore STOP:}\hlstd{\ \ }\hlkwc{}\\
\hllin{62\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR}\hlstd{\ \ \ \ }\hlstd{}\\
\hllin{63\ }\hlkwc{RECEIVE:}\\
\hllin{64\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F8H\\
\hllin{65\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{IN}\hlstd{\ \ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{DX}\\
\hllin{66\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{CMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{20H}\\
\hllin{67\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{CHAR\\
\hllin{68\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{4}\hlstd{}\hlkwb{CH}\\
\hllin{69\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{21H}\\
\hllin{70\ }\hlstd{}\hlkwc{CHAR:}\hlstd{\ \ \ }\hlkwc{}\hlstd{}\hlkwa{PUSH}\hlstd{\ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AX}\hlstd{\ \ \ \ \ \ \ \ \ }\hlkwb{}\\
\hllin{71\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{EH\\
\hllin{72\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{10H}\\
\hllin{73\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{POP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AX}\\
\hllin{74\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{CMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{DH}\\
\hllin{75\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JNZ}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR\\
\hllin{76\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{AH}\\
\hllin{77\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{EH}\hlstd{\ \ \ \ }\hlstd{\\
\hllin{78\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{10H}\\
\hllin{79\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR}\\
\hllin{80\ }\hlkwc{ERROR:}\hlstd{\ \ }\hlkwc{}\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{F8H\\
\hllin{81\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{IN}\hlstd{\ \ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlkwb{DX}\\
\hllin{82\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'?'}\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{\\
\hllin{83\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{MOV}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{14}\\
\hllin{84\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{INT}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{}\hlnum{10H}\\
\hllin{85\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{JMP}\hlstd{\ \ \ \ \ \ \ }\hlkwa{}\hlstd{WAIT\textunderscore FOR\\
\hllin{86\ }SUB1}\hlstd{\ \ }\hlstd{}\hlkwa{ENDP}\\
\hllin{87\ }\hlstd{\\
\hllin{88\ }CODES}\hlstd{\ \ }\hlstd{}\hlkwa{ENDS}\\
\hllin{89\ }\hlstd{}\hlkwa{END}\hlstd{\ \ \ \ }\hlkwa{}\hlstd{START}\\
\mbox{}
\normalfont
\normalsize
