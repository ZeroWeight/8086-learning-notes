\documentclass{article}
\usepackage{color}
\usepackage{alltt}
\usepackage{marvosym}

\input {highlight.sty}

\title{p12.asm}
\begin{document}
\pagecolor{bgcolor}
\noindent
\ttfamily
\hlstd{}\hlslc{;\ Experiment\ 1\ (Tutorial\ Guide,\ p.12)}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{NAME\ }\hlstd{prob12\hspace*{\fill}\\
\hspace*{\fill}\\
data\ }\hlkwa{SEGMENT}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
buffer1\ }\hlkwa{DB\ }\hlstd{}\hlnum{0}\hlstd{}\hlopt{,}\hlstd{}\hlnum{1}\hlstd{}\hlopt{,}\hlstd{}\hlnum{2}\hlstd{}\hlopt{,}\hlstd{}\hlnum{3}\hlstd{}\hlopt{,}\hlstd{}\hlnum{4}\hlstd{}\hlopt{,}\hlstd{}\hlnum{5}\hlstd{}\hlopt{,}\hlstd{}\hlnum{6}\hlstd{}\hlopt{,}\hlstd{}\hlnum{7}\hlstd{}\hlopt{,}\hlstd{}\hlnum{8}\hlstd{}\hlopt{,}\hlstd{}\hlnum{9}\hspace*{\fill}\\
\hlstd{\ }\hlkwa{DB\ }\hlstd{}\hlnum{0}\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{BH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{CH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{}\hlkwb{DH}\hlstd{}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{eh}\hlopt{,}\hlstd{}\hlnum{0}\hlstd{fh}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;just\ a\ count}\hspace*{\fill}\\
\hlstd{buffer2\ }\hlkwa{DB\ }\hlstd{}\hlnum{10h\ }\hlstd{dup}\hlopt{(}\hlstd{}\hlnum{0}\hlstd{}\hlopt{)}\hspace*{\fill}\\
\hlstd{mess\ }\hlkwa{DB\ }\hlstd{}\hlstr{'HAVE\ DONE'}\hlstd{}\hlopt{,}\hlstd{}\hlnum{13}\hlstd{}\hlopt{,}\hlstd{}\hlnum{10}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'\$'}\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;"HAVE\ DONE$\backslash$r$\backslash$n"}\hspace*{\fill}\\
\hlstd{data\ }\hlkwa{ENDS}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
stack\ }\hlkwa{SEGMENT\ }\hlstd{para\ stack}\hlslc{;\ }\hspace*{\fill}\\
\hlstd{}\hlkwa{DB\ }\hlstd{}\hlnum{100\ }\hlstd{dup}\hlopt{(}\hlstd{?}\hlopt{)}\hspace*{\fill}\\
\hlstd{stack\ }\hlkwa{ENDS}\hlstd{}\hlslc{;}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
code\ }\hlkwa{SEGMENT}\hspace*{\fill}\\
\hlstd{}\hlkwa{ASSUME\ }\hlstd{}\hlkwb{CS}\hlstd{}\hlopt{:}\hlstd{code}\hlopt{,\ }\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{:}\hlstd{data}\hlopt{,\ }\hlstd{}\hlkwb{ES}\hlstd{}\hlopt{:}\hlstd{data}\hlopt{,\ }\hlstd{}\hlkwb{SS}\hlstd{}\hlopt{:}\hlstd{stack}\hspace*{\fill}\\
\hlslc{;Reg\ for\ visit\ data\ block}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwc{START:\ }\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AX}\hlstd{}\hlopt{,\ }\hlstd{data}\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwb{AX}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{ES}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwb{AX\ }\hspace*{\fill}\\
\hlstd{}\hlslc{;\ set\ up\ the\ user\ data\ segment}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{LEA\ }\hlstd{}\hlkwb{SI}\hlstd{}\hlopt{,\ }\hlstd{buffer1}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;\ maybe\ like\ a\ pointer\ in\ C}\hspace*{\fill}\\
\hlstd{}\hlkwa{LEA\ }\hlstd{}\hlkwb{DI}\hlstd{}\hlopt{,\ }\hlstd{buffer2}\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{CX}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{10h}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwc{NEXT:\ }\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,\ {[}}\hlstd{}\hlkwb{SI}\hlstd{}\hlopt{{]}\ }\hspace*{\fill}\\
\hlstd{}\hlslc{;\ load\ the\ {*}si\ (data\ in\ buffer1)}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlopt{{[}}\hlstd{}\hlkwb{DI}\hlstd{}\hlopt{{]},\ }\hlstd{}\hlkwb{AL}\hlstd{\ \ }\hlkwb{}\hspace*{\fill}\\
\hlstd{}\hlslc{;\ {*}di=al}\hspace*{\fill}\\
\hlstd{}\hlslc{;\ may\ just\ like\ the\ exchange?}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{SI}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{DI}\hspace*{\fill}\\
\hlstd{}\hlslc{;++si,++di}\hspace*{\fill}\\
\hlstd{}\hlkwa{DEC\ }\hlstd{}\hlkwb{CX}\hlstd{\ \ \ }\hlkwb{}\hspace*{\fill}\\
\hlstd{}\hlslc{;cx{-}{-}}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{JNZ\ }\hlstd{next}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;cpy\ buffer1\ to\ buffer2}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{LEA\ }\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,\ }\hlstd{mess}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;prepare\ for\ output}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{9}\hspace*{\fill}\\
\hlstd{}\hlkwa{INT\ }\hlstd{}\hlnum{21h}\hlstd{\ \ \ }\hlnum{}\hspace*{\fill}\\
\hlstd{}\hlslc{;when\ ah\ ==\ 9\ means\ output\ the\ string\ in\ ds:dx}\hspace*{\fill}\\
\hlstd{\ }\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{4}\hlstd{}\hlkwb{CH}\hspace*{\fill}\\
\hlstd{}\hlkwa{INT\ }\hlstd{}\hlnum{21h}\hlstd{\ \ \ }\hlnum{}\hspace*{\fill}\\
\hlstd{}\hlslc{;when\ ah\ ==\ 4c\ means\ return\ (al);}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
code\ }\hlkwa{ENDS}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{END\ }\hlstd{start}\hspace*{\fill}\\
\mbox{}
\normalfont
\normalsize
\end {document}
(* LaTeX generated by highlight 3.6, http://www.andre-simon.de/ *)
