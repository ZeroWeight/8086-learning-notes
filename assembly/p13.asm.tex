\documentclass{article}
\usepackage{color}
\usepackage{alltt}
\usepackage{marvosym}

\input {highlight.sty}

\title{p13.asm}
\begin{document}
\pagecolor{bgcolor}
\noindent
\ttfamily
\hlstd{}\hlkwa{NAME\ }\hlstd{prob13\hspace*{\fill}\\
\hspace*{\fill}\\
data\ }\hlkwa{SEGMENT}\hspace*{\fill}\\
\hlstd{buffer1\ }\hlkwa{DB\ }\hlstd{}\hlnum{10h\ }\hlstd{dup}\hlopt{(}\hlstd{}\hlnum{0}\hlstd{}\hlopt{)}\hlstd{\ \ }\hlopt{}\hspace*{\fill}\\
\hlstd{}\hlslc{;calloc(10);}\hspace*{\fill}\\
\hlstd{mess\ }\hlkwa{DB\ }\hlstd{}\hlstr{'HAVE\ DONE'}\hlstd{}\hlopt{,}\hlstd{}\hlnum{13}\hlstd{}\hlopt{,}\hlstd{}\hlnum{10}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'\$'}\hlstd{}\hspace*{\fill}\\
\hlslc{;"HAVE\ DONE$\backslash$r$\backslash$n"}\hspace*{\fill}\\
\hlstd{data\ }\hlkwa{ENDS}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
stack\ }\hlkwa{SEGMENT\ }\hlstd{para\ stack}\hspace*{\fill}\\
\hlkwa{DB\ }\hlstd{}\hlnum{10\ }\hlstd{dup}\hlopt{(}\hlstd{}\hlnum{0}\hlstd{}\hlopt{)}\hlstd{\ \ \ }\hlopt{}\hspace*{\fill}\\
\hlstd{}\hlslc{;when\ using\ DEBUG,\ the\ size\ of\ stack\ }\hspace*{\fill}\\
\hlstd{}\hlslc{;is\ no\ less\ than\ 6}\hspace*{\fill}\\
\hlstd{stack\ }\hlkwa{ENDS}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
code\ }\hlkwa{SEGMENT}\hspace*{\fill}\\
\hlstd{}\hlkwa{ASSUME\ }\hlstd{}\hlkwb{CS}\hlstd{}\hlopt{:}\hlstd{code}\hlopt{,\ }\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{:}\hlstd{data}\hlopt{,\ }\hlstd{}\hlkwb{ES}\hlstd{}\hlopt{:}\hlstd{data}\hlopt{,\ }\hlstd{}\hlkwb{SS}\hlstd{}\hlopt{:}\hlstd{stack}\hspace*{\fill}\\
\hlslc{;Reg\ for\ visit\ data\ block}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwc{START:\ }\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AX}\hlstd{}\hlopt{,\ }\hlstd{data}\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{DS}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwb{AX}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{ES}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwb{AX}\hlstd{\ \ }\hlkwb{}\hspace*{\fill}\\
\hlstd{}\hlslc{;\ set\ up\ the\ user\ data\ segment}\hspace*{\fill}\\
\hlstd{}\hlkwa{LEA\ }\hlstd{}\hlkwb{DI}\hlstd{}\hlopt{,\ }\hlstd{buffer1\ }\hspace*{\fill}\\
\hlslc{;\ a\ pointer\ in\ C}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{CX}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{0}\hlstd{}\hlkwb{AH}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{30h}\hspace*{\fill}\\
\hlstd{}\hlkwc{LOOP1:\ }\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlopt{{[}}\hlstd{}\hlkwb{DI}\hlstd{}\hlopt{{]},\ }\hlstd{}\hlkwb{AL\ }\hspace*{\fill}\\
\hlstd{}\hlslc{;\ {*}di=al}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{AL}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{DI}\hlstd{\ \ \ }\hlkwb{}\hspace*{\fill}\\
\hlstd{}\hlslc{;++al,++di}\hspace*{\fill}\\
\hlstd{}\hlkwa{LOOP\ }\hlstd{loop1}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;cpy\ al\ to\ buffer2}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{MOV\ }\hlstd{}\hlkwb{CX}\hlstd{}\hlopt{,}\hlstd{}\hlnum{06h}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AL}\hlstd{}\hlopt{,}\hlstd{}\hlnum{41h}\hspace*{\fill}\\
\hlstd{}\hlkwc{LOOP2:\ }\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlopt{{[}}\hlstd{}\hlkwb{DI}\hlstd{}\hlopt{{]},}\hlstd{}\hlkwb{AL}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{AL}\hspace*{\fill}\\
\hlstd{}\hlkwa{INC\ }\hlstd{}\hlkwb{DI}\hspace*{\fill}\\
\hlstd{}\hlkwa{LOOP\ }\hlstd{loop2}\hspace*{\fill}\\
\hspace*{\fill}\\
\hlkwa{LEA\ }\hlstd{}\hlkwb{DX}\hlstd{}\hlopt{,\ }\hlstd{mess}\hlstd{\ \ }\hlstd{}\hspace*{\fill}\\
\hlslc{;prepare\ for\ output}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{9}\hspace*{\fill}\\
\hlstd{}\hlkwa{INT\ }\hlstd{}\hlnum{21h}\hlstd{\ \ \ }\hlnum{}\hspace*{\fill}\\
\hlstd{}\hlslc{;when\ ah\ ==\ 9\ means\ output\ the\ string\ in\ ds:d}\hspace*{\fill}\\
\hlstd{}\hlkwa{MOV\ }\hlstd{}\hlkwb{AH}\hlstd{}\hlopt{,\ }\hlstd{}\hlnum{4}\hlstd{}\hlkwb{CH}\hspace*{\fill}\\
\hlstd{}\hlkwa{INT\ }\hlstd{}\hlnum{21h}\hlstd{\ \ \ }\hlnum{}\hspace*{\fill}\\
\hlstd{}\hlslc{;when\ ah\ ==\ 4c\ means\ return\ (al);}\hspace*{\fill}\\
\hlstd{\hspace*{\fill}\\
code\ }\hlkwa{ENDS}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlkwa{END\ }\hlstd{start}\hspace*{\fill}\\
\mbox{}
\normalfont
\normalsize
\end {document}
(* LaTeX generated by highlight 3.6, http://www.andre-simon.de/ *)
